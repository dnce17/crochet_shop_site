{% extends "layout.html" %}

{% block main %}
<div class="cart ctnr">
    <h1>Cart</h1>
    <section class="cart__products">
        {% if not cart_items %}
            <h3 class="none cart__none">No items in cart</h3>
        {% else %}
            <div class="cart_info">
                {% for item in cart_items %}
                    <article class="cart__item">
                        <img src="{{ item.directory }}{{ item.path }}" class="col-left cart__item-img" alt="{{ item.alt }}">
                        <div class="col-mid">
                            <div class="cart__item-name bold">{{ item.name }}</div>
                        </div>
                        <div class="col-right">
                            <div class="cart__item-price bold">{{ item.price }}</div>
                            <div class="cart__item-qty">
                                <label for="qty">Qty:</label>
                                <select name="qty" id="qty" class="qty">
                                    {% set stock = item.stock | int %}
                                    {% for i in range(0, stock + 1) %}
                                        <option value="{{ i }}">{{ i }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>
                    </article>
                    <hr>
                {% endfor %}
            </div>
            <div class="cart__subtotal">
                <div class="cart__subtotal-text">
                    <h3 class="cart__subtotal-title">Subtotal</h3>
                    <h3 class="cart__subtotal-amt">{{ subtotal }}</h3>
                </div>
                <input type="submit" class="checkout-btn bold" value="Proceed to checkout">
            </div>
        {% endif %}
    </section>
</div>
{% endblock %} 